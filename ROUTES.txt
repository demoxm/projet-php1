ROUTES & ENDPOINTS - API REST
=============================

ğŸ“ URL DE BASE: http://localhost:8000

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ  PAGE D'ACCUEIL

GET /
  â†’ Redirection vers /recipes
  Affiche: Liste de toutes les recettes

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ½ï¸  RECETTES - CRUD COMPLET

GET /recipes
  â†’ Page: Liste de toutes les recettes
  Filtre optionnel: ?difficulty=facile|moyen|difficile
  Affiche: Grille de recettes avec pagination

GET /recipes/create
  â†’ Page: Formulaire de crÃ©ation d'une recette
  Champs: title, description, prep_time, difficulty

POST /recipes
  â†’ Action: CrÃ©e une nouvelle recette
  Redirection: â†’ /recipes/{id}
  Validation: title unique, tous champs requis

GET /recipes/{id}
  â†’ Page: DÃ©tails complets d'une recette
  Affiche:
    - Informations gÃ©nÃ©rales
    - Liste des ingrÃ©dients avec quantitÃ©s
    - Ã‰tapes de prÃ©paration numÃ©rotÃ©es
    - Actions (Ã©diter, supprimer)

GET /recipes/{id}/edit
  â†’ Page: Formulaire d'Ã©dition d'une recette
  Champs: title, description, prep_time, difficulty

PUT /recipes/{id}
  â†’ Action: Met Ã  jour la recette
  Redirection: â†’ /recipes/{id}
  Validation: identique Ã  crÃ©ation

DELETE /recipes/{id}
  â†’ Action: Supprime complÃ¨tement la recette
  Cascade: Supprime ingrÃ©dients et Ã©tapes
  Redirection: â†’ /recipes (avec message de succÃ¨s)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¥˜ INGRÃ‰DIENTS - GESTION

GET /recipes/{id}/ingredients/add
  â†’ Page: Formulaire pour ajouter un ingrÃ©dient
  Affiche: Liste des ingrÃ©dients existants
  Modal: CrÃ©er un nouvel ingrÃ©dient Ã  la volÃ©e

POST /recipes/{id}/ingredients
  â†’ Action: Ajoute un ingrÃ©dient Ã  la recette
  Champs: ingredient_id, quantity, unit
  Redirection: â†’ /recipes/{id}
  Validation: ingredient_id existe, quantitÃ© requise
  VÃ©rification: IngrÃ©dient pas dÃ©jÃ  dans la recette

POST /recipes/{id}/ingredients/new
  â†’ API JSON: CrÃ©e un nouvel ingrÃ©dient
  Champs: name (unique)
  Retour: JSON {success: true}

DELETE /recipes/{id}/ingredients/{ingredient_id}
  â†’ Action: Supprime un ingrÃ©dient de la recette
  Redirection: â†’ /recipes/{id}
  Note: Ne supprime pas l'ingrÃ©dient global, juste l'association

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘¨â€ğŸ³ Ã‰TAPES - GESTION COMPLÃˆTE

GET /recipes/{id}/steps/create
  â†’ Page: Formulaire pour ajouter une Ã©tape
  Champs: step_number (numÃ©rotation auto), description
  Suggestion: Prochain numÃ©ro calculÃ© automatiquement

POST /recipes/{id}/steps
  â†’ Action: CrÃ©e une nouvelle Ã©tape
  Redirection: â†’ /recipes/{id}
  Validation: step_number > 0, description requise

GET /recipes/{id}/steps/{step_id}/edit
  â†’ Page: Formulaire d'Ã©dition d'une Ã©tape
  Champs: step_number, description

PUT /recipes/{id}/steps/{step_id}
  â†’ Action: Met Ã  jour l'Ã©tape
  Redirection: â†’ /recipes/{id}
  Validation: identique Ã  crÃ©ation

DELETE /recipes/{id}/steps/{step_id}
  â†’ Action: Supprime l'Ã©tape
  Redirection: â†’ /recipes/{id}
  Note: Les autres Ã©tapes gardent leurs numÃ©ros

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“¡ API JSON

GET /api/ingredients
  â†’ Retour: JSON avec tous les ingrÃ©dients
  Format:
    [
      {id: 1, name: "Tomate", created_at: "...", updated_at: "..."},
      {id: 2, name: "Å’uf", created_at: "...", updated_at: "..."}
    ]
  Usage: Autocomplete, liste pour select

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š REDIRECTIONS & COMPORTEMENTS

AprÃ¨s crÃ©ation recette â†’ /recipes/{id}
AprÃ¨s Ã©dition recette â†’ /recipes/{id}
AprÃ¨s suppression recette â†’ /recipes
AprÃ¨s ajout ingrÃ©dient â†’ /recipes/{id}
AprÃ¨s suppression ingrÃ©dient â†’ /recipes/{id}
AprÃ¨s ajout Ã©tape â†’ /recipes/{id}
AprÃ¨s Ã©dition Ã©tape â†’ /recipes/{id}
AprÃ¨s suppression Ã©tape â†’ /recipes/{id}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… MESSAGES DE FEEDBACK

SuccÃ¨s:
  "Recette crÃ©Ã©e avec succÃ¨s!"
  "Recette mise Ã  jour avec succÃ¨s!"
  "Recette supprimÃ©e avec succÃ¨s!"
  "IngrÃ©dient ajoutÃ© avec succÃ¨s!"
  "IngrÃ©dient supprimÃ© de la recette!"
  "Ã‰tape ajoutÃ©e avec succÃ¨s!"
  "Ã‰tape mise Ã  jour avec succÃ¨s!"
  "Ã‰tape supprimÃ©e avec succÃ¨s!"

Erreurs:
  "Le titre est requis"
  "Ce titre existe dÃ©jÃ "
  "La description est requise"
  "Cet ingrÃ©dient est dÃ©jÃ  dans la recette!"
  "Veuillez sÃ©lectionner un ingrÃ©dient"
  Etc.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” SÃ‰CURITÃ‰

Tous les formulaires:
  âœ“ Protection CSRF (token @csrf)
  âœ“ Validation cÃ´tÃ© serveur
  âœ“ Validations cÃ´tÃ© client
  âœ“ Confirmations avant suppression
  âœ“ ParamÃ¨tres typÃ©s (type hinting)
  âœ“ Relations sÃ©curisÃ©es (Foreign Keys)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ EXEMPLE D'UTILISATION COMPLÃˆTE

1. CrÃ©er une recette:
   GET /recipes/create                 (voir formulaire)
   POST /recipes                       (crÃ©er)
   â†’ Redirige vers /recipes/1

2. Ajouter des ingrÃ©dients:
   GET /recipes/1/ingredients/add      (voir formulaire)
   POST /recipes/1/ingredients         (ajouter)
   â†’ Redirige vers /recipes/1

3. Ajouter des Ã©tapes:
   GET /recipes/1/steps/create         (voir formulaire)
   POST /recipes/1/steps               (crÃ©er Ã©tape 1)
   GET /recipes/1/steps/create         (voir formulaire)
   POST /recipes/1/steps               (crÃ©er Ã©tape 2)
   â†’ Redirige vers /recipes/1

4. Consulter:
   GET /recipes                        (voir liste)
   GET /recipes?difficulty=moyen       (filtrer)
   GET /recipes/1                      (voir dÃ©tails complets)

5. Modifier:
   GET /recipes/1/edit                 (voir formulaire)
   PUT /recipes/1                      (mettre Ã  jour)
   â†’ Redirige vers /recipes/1

6. Supprimer:
   DELETE /recipes/1                   (supprimer)
   â†’ Redirige vers /recipes

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§ª TESTER AVEC CURL (optionnel)

Voir toutes les routes:
  php artisan route:list

Lister les recettes (via navigateur):
  http://localhost:8000/recipes

CrÃ©er une recette (via formulaire):
  GET http://localhost:8000/recipes/create

API ingrÃ©dients (JSON):
  http://localhost:8000/api/ingredients

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ TOUS LES ENDPOINTS FONCTIONNELS ET TESTÃ‰S âœ¨
